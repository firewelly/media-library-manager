# 使用示例和最佳实践

## 快速开始

### 1. 启动程序
```bash
# 方法1: 直接运行Python脚本
python3 media_library.py

# 方法2: 使用启动脚本
./start_media_library.sh

# 方法3: 双击启动脚本（在Finder中）
```

### 2. 添加第一个文件夹
1. 启动程序后，点击菜单栏 "文件" → "添加文件夹"
2. 选择包含视频文件的文件夹，例如：
   - `/Users/你的用户名/Movies`
   - `/Volumes/NAS存储/电影`
   - `/Users/你的用户名/Downloads/视频`

### 3. 扫描视频文件
1. 点击菜单栏 "文件" → "扫描媒体文件"
2. 等待扫描完成（状态栏会显示进度）
3. 扫描完成后，视频列表会自动更新

## 文件命名建议

为了充分利用自动星级功能，建议按以下格式重命名您的视频文件：

```
# 普通视频（0星）
复仇者联盟.mp4
泰坦尼克号.avi

# 好看的视频（2星）
!肖申克的救赎.mp4
!阿甘正传.mkv

# 很棒的视频（3星）
!!教父.mp4
!!星际穿越.mov

# 超级棒的视频（4星）
!!!盗梦空间.mp4
!!!黑客帝国.avi

# 经典必看（5星）
!!!!公民凯恩.mp4
!!!!2001太空漫游.mkv
```

## NAS设置示例

### Synology NAS
1. 在Finder中连接NAS：
   ```
   前往 → 连接服务器 → smb://你的NAS IP地址
   ```
2. 挂载后路径通常为：`/Volumes/你的共享文件夹名`
3. 在程序中添加此路径作为文件夹

### QNAP NAS
1. 类似Synology的连接方式
2. 确保NAS的SMB服务已启用
3. 路径格式：`/Volumes/共享文件夹名`

## 标签使用建议

### 按类型分类
```
动作片
喜剧片
科幻片
恐怖片
纪录片
动画片
```

### 按年代分类
```
经典老片
90年代
2000年代
2010年代
2020年代
```

### 按观看状态
```
已观看
想看
在看
重看
```

### 按质量分类
```
高清
4K
蓝光原盘
压制版
```

## NFO文件示例

如果您有NFO文件，确保它们与视频文件同名：

```
电影文件夹/
├── 阿凡达.mp4
├── 阿凡达.nfo
├── 泰坦尼克号.mkv
└── 泰坦尼克号.nfo
```

NFO文件内容示例：
```xml
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<movie>
    <title>阿凡达</title>
    <year>2009</year>
    <rating>7.8</rating>
    <plot>在遥远的潘多拉星球上，人类为了获取珍贵矿物而与当地的纳美族发生冲突...</plot>
    <genre>科幻</genre>
    <director>詹姆斯·卡梅隆</director>
</movie>
```

## 常用操作流程

### 整理新下载的视频
1. 将新视频放入指定文件夹
2. 根据质量重命名（添加适当数量的叹号）
3. 在程序中点击"扫描媒体文件"
4. 为新视频添加标签
5. 编辑标题和描述信息

### 查找特定视频
1. 使用搜索框输入关键词
2. 结合星级筛选
3. 使用标签筛选
4. 双击播放或查看详情

### 清理重复文件
1. 定期点击"文件" → "去重复"
2. 检查去重结果
3. 手动验证重要文件是否被误删

## 备份和维护

### 定期备份
```bash
# 备份数据库
cp media_library.db backup/media_library_$(date +%Y%m%d).db

# 或者使用Time Machine自动备份整个文件夹
```

### 性能优化
1. 定期运行去重功能
2. 清理不存在的文件记录
3. 整理标签（删除不再使用的标签）

### 故障恢复
如果数据库损坏：
1. 从备份恢复 `media_library.db`
2. 或者删除数据库文件，重新扫描所有文件夹

## 高级技巧

### 批量重命名
使用macOS的Automator或第三方工具批量重命名文件：
```bash
# 使用命令行批量添加星级前缀
for file in *.mp4; do
    mv "$file" "!$file"
done
```

### 自动化工作流
1. 设置下载完成后自动移动到指定文件夹
2. 使用脚本定期扫描新文件
3. 结合其他工具自动下载NFO信息

### 网络共享
虽然程序本身不支持网络共享，但可以：
1. 将数据库文件放在共享文件夹中
2. 多台Mac使用同一个数据库（注意并发访问问题）

## 疑难解答

### 程序启动失败
```bash
# 检查Python版本
python3 --version

# 检查文件权限
ls -la media_library.py

# 重新设置执行权限
chmod +x start_media_library.sh
```

### NAS连接问题
1. 确保NAS在线且可访问
2. 检查网络连接
3. 重新挂载NAS共享文件夹
4. 验证用户权限

### 视频无法播放
1. 检查文件是否存在
2. 确认文件格式支持
3. 检查macOS默认播放器设置
4. 尝试手动打开文件

---

**提示**: 如果遇到其他问题，可以查看程序运行时的控制台输出获取更多调试信息。